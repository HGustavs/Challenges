<html>
<head>
    <script src="helperFunction/pipes.js"></script>
		<script>

//------------------------------------=======############==========----------------------------------------
//                                 Canvas Slide Constants and Variables
//------------------------------------=======############==========----------------------------------------

// Virrvarr
// Biosphere https://en.wikipedia.org/wiki/Montreal_Biosphere

var ctx;
var mx,my,mb=0;

// Array of building blocks ( 0-10 )
var blocks=[];

var blockTemplate=[
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,1 ,1 ,1 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
    [0 ,0 , 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ],
]

var bw=64;
var bh=64;
var blockno=19;

//----------------------------------------------------------------------------------
// Canvas Setup
//----------------------------------------------------------------------------------

function setup()
{
    var cc = document.getElementById("myCanvas");
    ctx = cc.getContext("2d");

    for(var i=0;i<blockno;i++){
        blocks[i]=[];
        for(var j=0;j<blockno;j++){
            var tileno=blockTemplate[i][j];
            blocks[i][j]={
                no:tileno,
                xk:j*bw,
                yk:i*bw
            };
        }
    }

    drawit();
}
        
function drawit()
{	
    ctx.clearRect(0,0,900,900);
    ctx.fillStyle="#888";
    ctx.strokeStyle="#000";

    for(var yk=0;yk<blockno;yk++){
        for(var xk=0;xk<blockno;xk++){
            block=blocks[yk][xk];

            ctx.save();
            ctx.translate(xk*bw,yk*bw);
            
            if(block.no==0){

            }else if(block.no==1){ 
                Vertical(); 
                UpperEnd();
                LowerEnd();           
            }else if(block.no==2){
                Horizontal();
                LeftEnd();
                RightEnd();
            }else if(block.no==3){
                Cross4();
                UpperEnd();
                LowerEnd();
                LeftEnd();
                RightEnd();                                 
            }else if(block.no==4){
                Cross3Up();
                UpperEnd();
                LeftEnd();
                RightEnd();
            }else if(block.no==5){
                Cross3Down();
                LowerEnd();
                LeftEnd();
                RightEnd();            
            }else if(block.no==6){
                Cross3Left();
                UpperEnd();
                LowerEnd();
                LeftEnd();
            }else if(block.no==7){                    
                Cross3Right();
                UpperEnd();
                LowerEnd();
                RightEnd();
            }else if(block.no==8){   
                TurnDownLeft();
                LowerEnd();
                LeftEnd();
            }else if(block.no==9){                  
                TurnUpLeft();
                UpperEnd();
                LeftEnd();
            }else if(block.no==10){   
                TurnDownRight();
                LowerEnd();
                RightEnd();                               
            }else if(block.no==11){
                TurnUpRight();
                UpperEnd();
                RightEnd();   
            }else if(block.no==12){
            }else if(block.no==13){
            }else if(block.no==14){
            }

            ctx.restore();
        }
    }


    window.requestAnimationFrame(drawit);
} 			

		</script>
</head>
<body onload="setup();">
 	<canvas id="myCanvas" width="900" height="900" style="border:1px solid #000000;"></canvas> 
</body>
